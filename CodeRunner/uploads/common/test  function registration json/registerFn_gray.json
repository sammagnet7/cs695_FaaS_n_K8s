{
  "fnName": "testgray",
  "runtime": "python",
  "sourceCode": "IyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKIyBBZGQgeW91ciBpbXBvcnRzIGhlcmUKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKZnJvbSBQSUwgaW1wb3J0IEltYWdlLCBJbWFnZU9wcwppbXBvcnQgYmFzZTY0CmltcG9ydCBpbwppbXBvcnQgdGltZQoKCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKIyBFbnRlciB5b3UgQnVja2V0IG5hbWUgaGVyZQojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCkJVQ0tFVF9OQU1FID0gInRlc3RncmF5IgoKIyBEbyBub3QgZWRpdCB0aGlzIGZ1bmN0aW9uIG5hbWUKZGVmIHJlYWRfYmFzZTY0X2ltYWdlKGJhc2U2NF9zdHJpbmcpOgogICAgaW1hZ2VfZGF0YSA9IGJhc2U2NC5iNjRkZWNvZGUoYmFzZTY0X3N0cmluZykKICAgIGltYWdlX3N0cmVhbSA9IGlvLkJ5dGVzSU8oaW1hZ2VfZGF0YSkKCiAgICByZXR1cm4gaW1hZ2Vfc3RyZWFtCgoKZGVmIGVuY29kZV9iYXNlNjRfaW1hZ2UoaW1hZ2UpOgogICAgaW1hZ2Vfc3RyZWFtID0gaW8uQnl0ZXNJTygpCiAgICBpbWFnZS5zYXZlKGltYWdlX3N0cmVhbSwgZm9ybWF0PSJQTkciKQogICAgX2ltYWdlX2J5dGVzID0gaW1hZ2Vfc3RyZWFtLmdldHZhbHVlKCkKICAgIGJhc2U2NF9zdHJpbmcgPSBiYXNlNjQuYjY0ZW5jb2RlKF9pbWFnZV9ieXRlcykuZGVjb2RlKCJ1dGYtOCIpCiAgICByZXR1cm4gYmFzZTY0X3N0cmluZwoKCmRlZiB1c2VyRGVmaW5lZEZ1bmN0aW9uKGltYWdlX29sZCk6CiAgICBzdGFydF90aW1lID0gdGltZS50aW1lKCkKICAgIHdpdGggSW1hZ2Uub3BlbihyZWFkX2Jhc2U2NF9pbWFnZShpbWFnZV9vbGQpKSBhcyBpbToKICAgICAgICBpbSA9IEltYWdlT3BzLmdyYXlzY2FsZShpbSkKICAgICAgICBlbmNvZGVkID0gZW5jb2RlX2Jhc2U2NF9pbWFnZShpbSkKICAgICAgICBlbmRfdGltZSA9IHRpbWUudGltZSgpCiAgICAgICAgcHJpbnQoIlRpbWU6IiwgZW5kX3RpbWUgLSBzdGFydF90aW1lKQogICAgICAgIHJldHVybiBlbmNvZGVkCg==",
  "requirements": "cmVkaXMKcHN5Y29wZzIKcGlsbG93",
  "entryFn": "userDefinedFunction",
  "triggerType": "CLOUD_STORAGE",
  "eventType": "UPLOAD_INTO_BUCKET",
  "bucketName": "testgray",
  "replicaLimit": "5",
  "cpuMax": "0.5",
  "memoryMax": "512"
}
